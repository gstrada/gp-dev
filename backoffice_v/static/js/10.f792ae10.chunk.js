(window["webpackJsonpfuse-react-app"]=window["webpackJsonpfuse-react-app"]||[]).push([[10],{502:function(e,a,t){"use strict";t.r(a);var r=t(200);t.d(a,"default",function(){return r.a})},569:function(e,a,t){"use strict";var r=t(275);Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,a){var t=l.default.memo(l.default.forwardRef(function(a,t){return l.default.createElement(o.default,(0,n.default)({ref:t},a),e)}));0;return t.muiName=o.default.muiName,t};var n=r(t(72)),l=r(t(0)),o=r(t(502))},579:function(e,a,t){"use strict";var r=t(1),n=t(6),l=t(0),o=t.n(l),c=(t(2),t(3)),i=t(7),s=t(98),m=o.a.forwardRef(function(e,a){var t=e.children,l=e.classes,i=e.className,m=e.disableTypography,d=void 0!==m&&m,u=Object(n.a)(e,["children","classes","className","disableTypography"]);return o.a.createElement("div",Object(r.a)({className:Object(c.a)(l.root,i),ref:a},u),d?t:o.a.createElement(s.a,{component:"h2",variant:"h6"},t))});a.a=Object(i.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(m)},580:function(e,a,t){"use strict";var r=t(1),n=t(6),l=t(0),o=t.n(l),c=(t(2),t(3)),i=t(7),s=o.a.forwardRef(function(e,a){var t=e.classes,l=e.className,i=e.dividers,s=void 0!==i&&i,m=Object(n.a)(e,["classes","className","dividers"]);return o.a.createElement("div",Object(r.a)({className:Object(c.a)(t.root,l,s&&t.dividers),ref:a},m))});a.a=Object(i.a)(function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}},{name:"MuiDialogContent"})(s)},584:function(e,a,t){"use strict";var r=t(38),n=t.n(r),l=t(40),o="[ORDER APP] GET CLIENTS",c="[ORDER APP] LOADING CLIENTS";function i(e){return function(a){var t={"page[number]":e.current_page};e.filters&&e.filters.forEach(function(e){var a="filter["+e.value.filterType+"-"+e.id+"]",r=e.value.filterValue;r.length>0&&(t[a]=r)}),n.a.get("".concat(l.b.url,"/api/retail/clients/list"),{params:t}).then(function(e){a({type:o,payload:e.data.result}),a(s(!1))})}}function s(e){return{type:c,payload:e}}var m=t(15),d="[ORDER APP] GET SALES",u="[ORDER APP] SALES_CHANGE_PAGE",f="[ORDER APP] LOADING SALES";function p(e,a){return function(t){var r={"page[number]":e.current_page,status:a};e.filters&&e.filters.forEach(function(e){var a="filter["+e.value.filterType+"-"+e.id+"]",t=e.value.filterValue;t.length>0&&(r[a]=t)}),n.a.get("".concat(l.b.url,"/api/backend/sales/list"),{params:r}).then(function(e){t(g(!1)),t({type:d,payload:e.data.result,status:a})})}}function b(e,a){return function(t,r){var o=r().OrderApp.sales.page,c=r().OrderApp.sales.status;n.a.post("".concat(l.b.url,"/api/backend/sales/set/status"),{id:e,status:a}).then(function(e){200===e.data.code?(t(m.j({message:e.data.message,variant:"success"})),t(p(o,c))):t(m.j({message:e.data.message,variant:"error"}))})}}function v(e){return{type:u,payload:e}}function g(e){return{type:f,payload:e}}t.d(a,"a",function(){return o}),t.d(a,"c",function(){return c}),t.d(a,"g",function(){return i}),t.d(a,"i",function(){return s}),t.d(a,"b",function(){return d}),t.d(a,"e",function(){return u}),t.d(a,"d",function(){return f}),t.d(a,"h",function(){return p}),t.d(a,"k",function(){return b}),t.d(a,"f",function(){return v}),t.d(a,"j",function(){return g})},588:function(e,a,t){"use strict";function r(e){var a=(e.street_name?e.street_name:"")+(e.street_number&&e.street_number.length>0?" "+e.street_number:"");return 0===(a+=(e.city&&e.city.length>0?(a.length>0?", ":"")+e.city:"")+(e.zip_code&&e.zip_code.length>0?" ("+e.zip_code+")":"")+(e.state&&e.state.length>0?(a.length>0?", ":"")+e.state:"")).length?null:a}t.d(a,"a",function(){return r})},597:function(e,a,t){"use strict";var r=t(42),n=t(4),l=t(584),o=t(10);function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(t,!0).forEach(function(a){Object(n.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var s={entities:[],searchText:"",loading:!1,page:{current_page:1,per_page:1,last_page:1,from:1,to:1,total:1,filters:[],sort:{id:"name",desc:!1},show:"all"}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.a:return i({},e,{entities:o.a.keyBy(a.payload.data,"id"),page:{current_page:a.payload.current_page,per_page:a.payload.per_page,last_page:a.payload.last_page,from:a.payload.from,to:a.payload.to,total:a.payload.total,filters:e.page.filters,sort:e.page.sort,show:e.page.show}});case l.c:return i({},e,{loading:a.payload});default:return e}};function d(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?d(t,!0).forEach(function(a){Object(n.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var f={entities:[],searchText:"",loading:!1,status:"pending",page:{current_page:1,per_page:1,last_page:1,from:1,to:1,total:1,filters:[],sort:{id:"id",desc:!0},show:"all"}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.b:var t=[];return a.payload?(t=a.payload.data,u({},e,{status:a.status,entities:t,page:{current_page:a.payload.current_page,per_page:a.payload.per_page,last_page:a.payload.last_page,from:a.payload.from,to:a.payload.to,total:a.payload.total,filters:e.page.filters,sort:e.page.sort,show:e.page.show}})):u({},f);case l.e:return a.payload?u({},e,{page:a.payload}):u({},f);case l.d:return u({},e,{loading:a.payload});default:return e}},b=Object(r.d)({clients:m,sales:p});a.a=b},609:function(e,a,t){"use strict";var r=t(1),n=t(559),l=t(123);a.a=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(e,Object(r.a)({defaultTheme:l.a},a))}},610:function(e,a,t){"use strict";var r=t(275);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t(0)),l=(0,r(t(569)).default)(n.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");a.default=l},734:function(e,a,t){"use strict";t.r(a);var r=t(21),n=t(0),l=t.n(n),o=t(31),c=t(8),i=t(198),s=t(4),m=t(98),d=t(555),u=t(199),f=t(584);function p(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function b(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?p(t,!0).forEach(function(a){Object(s.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var v=function(e){var a=e.openModalHandler,t=e.status,r=Object(c.b)(),i=Object(c.c)(function(e){return e.OrderApp.sales.entities}),s=Object(c.c)(function(e){return e.OrderApp.sales.loading}),p=Object(c.c)(function(e){return e.OrderApp.sales.page});return Object(n.useEffect)(function(){r(f.j(!0)),r(f.h(p,t))},[t]),!i||s?l.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full mt-32"},l.a.createElement(m.a,{color:"textSecondary",variant:"h5"},"Cargando")):l.a.createElement(o.a,{animation:"transition.fadeIn",delay:300},l.a.createElement(u.b,{className:"-striped -highlight h-full overflow-hidden pl-2",pages:p.last_page,pageSizeOptions:[p.per_page],manual:!0,data:i,columns:[{Header:"ID Orden",accessor:"",Cell:function(e){return l.a.createElement(m.a,{variant:"caption"},String(e.original.id).padStart(8,"0"))},className:"justify-center",filterable:!0,sortable:!0},{Header:"Nombre",accessor:"user.name",filterable:!0,sortable:!0,Cell:function(e){return l.a.createElement(m.a,{variant:"caption"},e.original.user?e.original.user.name:"")}},{Header:"Apellido",accessor:"user.lastname",filterable:!0,sortable:!0,Cell:function(e){return l.a.createElement(m.a,{variant:"caption"},e.original.user?e.original.user.lastname:"")}},{Header:"Email",accessor:"user.email",filterable:!0,sortable:!0,Cell:function(e){return l.a.createElement(m.a,{variant:"caption"},e.original.user?e.original.user.email:"")},width:300},{Header:"M. Pago",accessor:"payment.name",filterable:!0,Cell:function(e){return l.a.createElement(m.a,{variant:"caption"},e.original.payment?e.original.payment.name:"Sin Especificar")}},{Header:"Total",accessor:"amount_to_pay",filterable:!0,sortable:!0,className:"justify-center",Cell:function(e){return l.a.createElement(m.a,{variant:"caption"},"$ ",e.original.amount_to_pay)},width:100},{Header:"Fecha",accessor:"created_at",filterable:!0,sortable:!0,Cell:function(e){return l.a.createElement(m.a,{variant:"caption"},e.original.created_at?e.original.created_at:"")}},{Header:"Tipo",accessor:"delivery_mode",filterable:!1,sortable:!1,Cell:function(e){return l.a.createElement(m.a,{variant:"caption"},e.original.delivery_mode?e.original.delivery_mode:"")},width:100},{Header:"Acciones",accessor:"",Cell:function(e){return l.a.createElement(d.a,{size:"small",color:"secondary",onClick:function(t){return r=e.original,void a(r);var r}},"Ver M\xe1s")},className:"justify-center",filterable:!1,sortable:!1,width:150}],defaultPageSize:0===i.length?5:i.length,noDataText:"No hay items para mostrar",loading:s,onFetchData:function(e,a){var n=e.page+1,l=b({},p);l.current_page=n,r(f.h(l,t))},onFilteredChange:function(e){var a=b({},p);a.filters=e,r(f.f(a))},onSortedChange:function(e){var a=b({},p);a.sort=e[0],r(f.f(a))}}))},g=t(597),y=t(492),E=t(552),w=t(579),h=t(580),O=t(543),x=t(499),N=t(536),j=(t(588),t(610)),_=t.n(j),P=t(488),S=t(609),k=t(547),D=t(556),C=l.a.forwardRef(function(e,a){return l.a.createElement(y.a,Object.assign({direction:"up",ref:a},e))}),T=Object(S.a)(function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}});var A=function(e){var a=e.item,t=e.open,o=e.closeHandler,i=T(),s=Object(c.b)(),u=l.a.useState(a?a.status:null),p=Object(r.a)(u,2),b=p[0],v=p[1];function g(){o()}return Object(n.useEffect)(function(){v(a?a.status:null)},[a]),l.a.createElement(E.a,{open:t,onClose:g,"aria-labelledby":"form-dialog-title",fullWidth:!0,fullScreen:!0,TransitionComponent:C},l.a.createElement(k.a,{className:i.appBar},l.a.createElement(D.a,null,l.a.createElement(P.a,{edge:"start",color:"inherit",onClick:g,"aria-label":"close"},l.a.createElement(_.a,null)),l.a.createElement(m.a,{variant:"h6",className:i.title},"Detalle de la Orden  #",String(a.id).padStart(8,"0")),l.a.createElement(d.a,{autoFocus:!0,color:"inherit",onClick:function(){s(f.k(a.id,b)),o()}},"Guardar"))),l.a.createElement(w.a,{id:"form-dialog-title"},l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 md:flex-row"},l.a.createElement(m.a,{variant:"h6",className:"sm:w-auto md:w-5/6"},"Detalle del pedido #",a.id),l.a.createElement(m.a,{variant:"body1",color:"secondary",className:"sm:w-auto md:w-2/6 text-right pt-2"},a.created_at))),l.a.createElement(h.a,null,l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 p-24 md:flex-row md:p-0 mt-3 mb-3"},l.a.createElement(m.a,{variant:"caption",className:"sm:w-auto md:w-1/6"},"Tipo de Orden"),l.a.createElement(m.a,{variant:"body1",className:"sm:w-auto md:w-5/6 font-bold"},a.delivery_mode)),l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 p-24 md:flex-row md:p-0 mt-3 mb-3"},l.a.createElement(m.a,{variant:"caption",className:"sm:w-auto md:w-1/6"},"Nombre"),l.a.createElement(m.a,{variant:"body1",className:"sm:w-auto md:w-5/6 font-bold"},a.user.name+" "+a.user.lastname)),l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 p-24 md:flex-row md:p-0 mt-3 mb-3"},l.a.createElement(m.a,{variant:"caption",className:"sm:w-auto md:w-1/6"},"Email"),l.a.createElement(m.a,{variant:"body1",className:"sm:w-auto md:w-5/6 font-bold"},a.user.email)),l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 p-24 md:flex-row md:p-0 mt-3 mb-3"},l.a.createElement(m.a,{variant:"caption",className:"sm:w-auto md:w-1/6"},"Forma de Pago"),l.a.createElement(m.a,{variant:"body1",className:"sm:w-auto md:w-5/6 font-bold"},a.payment?a.payment.name:"Sin Especificar")),l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 p-24 md:flex-row md:p-0 mt-3 mb-3"},l.a.createElement(m.a,{variant:"caption",className:"sm:w-auto md:w-1/6"},"Precio"),l.a.createElement(m.a,{variant:"body1",className:"sm:w-auto md:w-5/6 font-bold"},"$ ",a.amount_to_pay)),l.a.createElement(O.a,{className:"mt-5 mb-5"}),l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 p-24 md:flex-row md:p-0 mt-3 mb-3"},l.a.createElement(m.a,{variant:"caption",className:"sm:w-auto md:w-1/6"},"Direcci\xf3n de Facturaci\xf3n"),l.a.createElement(m.a,{variant:"body1",className:"sm:w-auto md:w-5/6 font-bold"},a.full_billing_address)),l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 p-24 md:flex-row md:p-0 mt-3 mb-3"},l.a.createElement(m.a,{variant:"caption",className:"sm:w-auto md:w-1/6"},"Tel\xe9fono de Facturaci\xf3n"),l.a.createElement(m.a,{variant:"body1",className:"sm:w-auto md:w-5/6 font-bold"},a.billing_phone)),l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 p-24 md:flex-row md:p-0 mt-3 mb-3"},l.a.createElement(m.a,{variant:"caption",className:"sm:w-auto md:w-1/6"},"Direcci\xf3n de Env\xedo"),l.a.createElement(m.a,{variant:"body1",className:"sm:w-auto md:w-5/6 font-bold"},a.full_shipping_address)),l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 p-24 md:flex-row md:p-0 mt-3 mb-3"},l.a.createElement(m.a,{variant:"caption",className:"sm:w-auto md:w-1/6"},"Tel\xe9fono de Env\xedo"),l.a.createElement(m.a,{variant:"body1",className:"sm:w-auto md:w-5/6 font-bold"},a.shipping_phone)),l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 p-24 md:flex-row md:p-0 mt-3 mb-3"},l.a.createElement(m.a,{variant:"caption",className:"sm:w-auto md:w-1/6"},"Nota para el Env\xedo"),l.a.createElement(m.a,{variant:"body1",className:"sm:w-auto md:w-5/6 font-bold"},a.shipping_note)),l.a.createElement(O.a,{className:"mt-10 mb-5"}),l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 p-24 md:flex-row md:p-0 mt-3 mb-3"},l.a.createElement(m.a,{variant:"caption",className:"sm:w-auto md:w-1/6"},"Estado"),l.a.createElement(x.a,{fullWidth:!0,value:b,onChange:function(e){var a=e.target.value;v(a)},inputProps:{name:"state",id:"state_selector"},className:"sm:w-auto md:w-5/6 font-bold"},l.a.createElement(N.a,{value:"confirmed"},"Confirmado"),l.a.createElement(N.a,{value:"dismissed"},"Rechazado"),l.a.createElement(N.a,{value:"pending"},"Pendiente"))),l.a.createElement(O.a,{className:"mt-10 mb-5"}),l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 p-24 md:flex-row md:p-0 mt-3 mb-3"},l.a.createElement(m.a,{variant:"caption",className:"sm:w-auto md:w-1/6"},"Items")),l.a.createElement("div",{className:"flex flex-col flex-1 flex-shrink-0 p-24 md:flex-row md:p-0 mt-3 mb-3"},l.a.createElement(m.a,{variant:"caption",className:"sm:w-auto md:w-1/6"}),a.items&&a.items.map(function(e){return l.a.createElement(m.a,{variant:"body1",className:"sm:w-auto md:w-4/6 font-bold",key:"country_"+e.id},e.name," ",e.typeName," x ",e.quantity)}))))};a.default=Object(i.a)("OrderApp",g.a)(function(e){var a=Object(n.useRef)(null),t=Object(n.useState)(!1),c=Object(r.a)(t,2),i=c[0],s=c[1],m=Object(n.useState)(null),d=Object(r.a)(m,2),u=d[0],f=d[1];function p(){s(!1)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(o.m,{classes:{contentWrapper:"h-full",content:"flex flex-col h-full",header:"min-h-60 h-60"},header:l.a.createElement("div",{className:"p-20"},l.a.createElement("h4",null,"Pedidos")),content:l.a.createElement("div",null,l.a.createElement(v,{openModalHandler:function(e){f(e),s(!0)},status:e.match.params.status}),u?l.a.createElement(A,{item:u,open:i,closeHandler:p}):null),innerScroll:!0,sidebarInner:!0,ref:a}))})}}]);