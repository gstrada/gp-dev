(window["webpackJsonpfuse-react-app"]=window["webpackJsonpfuse-react-app"]||[]).push([[31],{723:function(e,a,t){"use strict";t.r(a);var l=t(21),n=t(0),r=t.n(n),i=t(31),c=t(198),o=t(4),s=t(98),d=t(550),m=t(488),f=t(533),u=t(567),b=t.n(u),p=t(8),v=t(199),x=t(573);function E(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,l)}return t}function h(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?E(t,!0).forEach(function(a){Object(o.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var g=function(e){var a=e.openDeleteAlertHandler,t=e.openDetailModalHandler,l=e.provider_id,c=Object(p.b)(),o=Object(p.c)(function(e){return e.ProviderApp.address.entities}),u=Object(p.c)(function(e){return e.ProviderApp.address.page}),E=Object(p.c)(function(e){return e.ProviderApp.address.loading});return Object(n.useEffect)(function(){c(x.M(!0)),c(x.D(l,u))},[l]),!o||E?r.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full mt-32"},r.a.createElement(s.a,{color:"textSecondary",variant:"h5"},"Cargando")):r.a.createElement(i.a,{animation:"transition.fadeIn",delay:300},r.a.createElement(v.b,{className:"-striped -highlight h-full overflow-hidden pl-2",data:o,pages:u.last_page,pageSizeOptions:[u.per_page],manual:!0,columns:[{Header:"Prestador",accessor:"provider.name",filterable:!1,sortable:!1,width:200,className:"justify-center"},{Header:"Provincia",accessor:"state.name",filterable:!0},{Header:"Ciudad",accessor:"city.name",filterable:!0},{Header:"Direcci\xf3n",accessor:"address",filterable:!0},{Header:"Tel\xe9fono",accessor:"phone",filterable:!0,className:"justify-center"},{Header:"Email",accessor:"email",filterable:!0,className:"justify-center"},{Header:"Habilitado",accessor:"",Cell:function(e){return r.a.createElement(s.a,null,e.value.enabled?"SI":"NO")},className:"justify-center",filterable:!1,sortable:!1,width:80},{id:"edit_column",Header:"",accessor:"",Cell:function(e){return r.a.createElement(d.a,{title:"Editar"},r.a.createElement(m.a,{size:"small","aria-label":"Edit",onClick:function(){t(e.value)}},r.a.createElement(f.a,{color:"action",className:"text-20"},"edit")))},className:"justify-center",filterable:!1,sortable:!1,width:60},{id:"remove_column",Header:"",accessor:"",Cell:function(e){return r.a.createElement(d.a,{title:"Eliminar"},r.a.createElement(m.a,{size:"small","aria-label":"Delete",onClick:function(){a(e.value)}},r.a.createElement(b.a,{fontSize:"small"})))},className:"justify-center",filterable:!1,sortable:!1,width:60}],defaultPageSize:0===o.length?5:o.length,noDataText:"No hay items para mostrar",loading:E,onFetchData:function(e,a){var t=e.page+1,n=h({},u);n.current_page=t,c(x.D(l,n))},onFilteredChange:function(e){var a=h({},u);a.filters=e,c(x.w(a))},onSortedChange:function(e){var a=h({},u);a.sort=e[0],c(x.w(a))}}))},O=t(596),y=t(57),j=t(552),w=t(579),N=t(580),k=t(583),C=t(581),_=t(555);var P=function(e){var a=e.item,t=e.open,l=e.closeHandler,n=Object(p.b)();function i(){l()}return a?r.a.createElement(j.a,{open:t,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(w.a,{id:"alert-dialog-title"},"Eliminar item"),r.a.createElement(N.a,null,r.a.createElement(k.a,{id:"alert-dialog-description"},"Esta seguro de eliminar este item? La acci\xf3n no se puede deshacer y eliminar\xe1 todo el contenido asociado.")),r.a.createElement(C.a,null,r.a.createElement(_.a,{onClick:i,color:"primary"},"Cancelar"),r.a.createElement(_.a,{onClick:function(){n(x.S(a.id)),l()},color:"primary",autoFocus:!0},"Si, Eliminar"))):(l(),r.a.createElement("div",null))},S=t(32),D=t(499),W=t(504),H=t(544),A=t(562),I=t(3),L=t(538);function z(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,l)}return t}function F(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?z(t,!0).forEach(function(a){Object(o.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var M=function(e){var a=e.provider_id,t=e.item,i=e.open,c=e.closeHandler,d=Object(p.b)(),m=Object(p.c)(function(e){return e.ProviderApp.provider.providerInfo}),f=Object(p.c)(function(e){return e.ProviderApp.address.addressInfo}),u=Object(p.c)(function(e){return e.ProviderApp.address.addressInfoLoading}),b=Object(p.c)(function(e){return e.ProviderApp.address.countries}),v=Object(p.c)(function(e){return e.ProviderApp.address.country_states}),E=Object(p.c)(function(e){return e.ProviderApp.address.state_cities}),h=Object(S.a)(),g=Object(L.a)(h.breakpoints.down("sm")),O=r.a.useState(null),y=Object(l.a)(O,2),k=y[0],P=y[1],z=r.a.useState(""),M=Object(l.a)(z,2),T=M[0],G=M[1],J=r.a.useState(""),U=Object(l.a)(J,2),V=U[0],K=U[1],R=r.a.useState(""),q=Object(l.a)(R,2),B=q[0],Q=q[1];Object(n.useEffect)(function(){a&&(d(x.G(a)),d(x.C(t.id)),d(x.E()))},[a]),Object(n.useEffect)(function(){T&&d(x.F(T))},[T]),Object(n.useEffect)(function(){V&&d(x.I(V))},[V]),Object(n.useEffect)(function(){f&&(P(f),G(f.state.country_id),K(f.state.id),Q(f.city.id))},[f]);var X=function(e){var a=e.target,t=a.name,l=a.value;"checkbox"!==e.target.type&&"radio"!==e.target.type||(l=1===k[t]?0:1),P(F({},k,Object(o.a)({},t,l)))};function Y(){c()}return f&&m&&!u&&k?r.a.createElement(j.a,{open:i,onClose:Y,"aria-labelledby":"form-dialog-title",fullWidth:!0,fullScreen:g,maxWidth:"sm"},r.a.createElement(w.a,{id:"form-dialog-title"},"Editar una direcci\xf3n del prestador ",m.name),r.a.createElement(N.a,{className:"flex-col"},r.a.createElement("div",{className:Object(I.a)("flex","w-full")},r.a.createElement("div",{className:"flex-col w-full"},r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement(D.a,{id:"country_id",className:"w-full",native:!0,value:T,onChange:function(e){G(e.target.value)}},r.a.createElement("option",{value:"",disabled:!0},"Seleccion\xe1 un pa\xeds"),b&&b.map(function(e){return r.a.createElement("option",{key:"country_"+e.id,value:e.id},e.name)}))),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mt-10"},r.a.createElement(D.a,{id:"state_id",className:"w-full",native:!0,value:V,onChange:function(e){K(e.target.value),P(F({},k,Object(o.a)({},"state_id",e.target.value)))}},r.a.createElement("option",{value:"",disabled:!0},"Seleccion\xe1 una provincia"),v&&v.map(function(e){return r.a.createElement("option",{key:"country_states_"+e.id,value:e.id},e.name)}))),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mt-10"},r.a.createElement(D.a,{id:"state_id",className:"w-full",native:!0,value:B,onChange:function(e){Q(e.target.value),P(F({},k,Object(o.a)({},"city_id",e.target.value)))}},r.a.createElement("option",{value:"",disabled:!0},"Seleccion\xe1 una ciudad"),E&&E.map(function(e){return r.a.createElement("option",{key:"state_cities_"+e.id,value:e.id},e.name)}))),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement(W.a,{margin:"dense",id:"address",name:"address",label:"Direcci\xf3n",value:k&&k.address?k.address:"",type:"text",fullWidth:!0,onChange:X})),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0"},r.a.createElement(W.a,{margin:"dense",id:"email",name:"email",label:"Email",value:k&&k.email?k.email:"",type:"text",fullWidth:!0,onChange:X})),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0"},r.a.createElement(W.a,{margin:"dense",id:"phone",name:"phone",label:"Tel\xe9fono",value:k&&k.phone?k.phone:"",type:"text",fullWidth:!0,onChange:X}))),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0"},r.a.createElement(W.a,{margin:"dense",id:"lat",name:"lat",label:"Latitud",value:k&&k.lat?k.lat:"",type:"text",fullWidth:!0,onChange:X})),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0"},r.a.createElement(W.a,{margin:"dense",id:"lon",name:"lon",label:"Longitud",value:k&&k.lon?k.lon:"",type:"text",fullWidth:!0,onChange:X}))),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement(W.a,{margin:"dense",id:"website",name:"website",label:"Sitio Web",value:k&&k.website?k.website:"",type:"text",fullWidth:!0,onChange:X})),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement(W.a,{margin:"dense",id:"embedded_map",name:"embedded_map",label:"Url Mapa Embebido",value:k&&k.embedded_map?k.embedded_map:"",type:"text",fullWidth:!0,onChange:X})),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement(H.a,{control:r.a.createElement(A.a,{onClick:function(e){e.stopPropagation()},name:"enabled",checked:!!k&&!!k.enabled,onChange:X}),label:"Habilitado",className:"w-full"}))))),r.a.createElement(C.a,null,r.a.createElement(_.a,{onClick:Y,color:"primary"},"Cerrar"),r.a.createElement(_.a,{onClick:function(){d(x.L(!0)),d(x.V(k)),c()},color:"primary"},"Actualizar"))):r.a.createElement(j.a,{open:i,onClose:Y,"aria-labelledby":"form-dialog-title",fullWidth:!0},r.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full mt-32 mb-32"},r.a.createElement(s.a,{color:"textSecondary",variant:"h5"},"Cargando")))};function T(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,l)}return t}function G(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?T(t,!0).forEach(function(a){Object(o.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var J=function(e){var a=e.provider_id,t=e.open,i=e.closeHandler,c=Object(p.b)(),d=Object(p.c)(function(e){return e.ProviderApp.provider.providerInfo}),m=Object(p.c)(function(e){return e.ProviderApp.address.stateCreateLoading}),f=Object(p.c)(function(e){return e.ProviderApp.address.countries}),u=Object(p.c)(function(e){return e.ProviderApp.address.country_states}),b=Object(p.c)(function(e){return e.ProviderApp.address.state_cities}),v=Object(S.a)(),E=Object(L.a)(v.breakpoints.down("sm")),h=r.a.useState({provider_id:a}),g=Object(l.a)(h,2),O=g[0],y=g[1],k=r.a.useState(""),P=Object(l.a)(k,2),z=P[0],F=P[1],M=r.a.useState(""),T=Object(l.a)(M,2),J=T[0],U=T[1],V=r.a.useState(""),K=Object(l.a)(V,2),R=K[0],q=K[1];Object(n.useEffect)(function(){a&&(c(x.G(a)),c(x.E()))},[a]),Object(n.useEffect)(function(){z&&c(x.F(z))},[z]),Object(n.useEffect)(function(){J&&c(x.I(J))},[J]);var B=function(e){var a=e.target,t=a.name,l=a.value;"checkbox"!==e.target.type&&"radio"!==e.target.type||(l=O&&1===O[t]?0:1),y(G({},O,Object(o.a)({},t,l)))};function Q(){i()}return!d||f&&0===f.length||m?r.a.createElement(j.a,{open:t,onClose:Q,"aria-labelledby":"form-dialog-title",fullWidth:!0},r.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full mt-32 mb-32"},r.a.createElement(s.a,{color:"textSecondary",variant:"h5"},"Cargando"))):r.a.createElement(j.a,{open:t,onClose:Q,"aria-labelledby":"form-dialog-title",fullWidth:!0,fullScreen:E,maxWidth:"sm"},r.a.createElement(w.a,{id:"form-dialog-title"},"Agreg\xe1 una direcci\xf3n al prestador ",d.name),r.a.createElement(N.a,{className:"flex-col"},r.a.createElement("div",{className:Object(I.a)("flex","w-full")},r.a.createElement("div",{className:"flex-col w-full"},r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement(D.a,{id:"country_id",className:"w-full",native:!0,value:z,onChange:function(e){F(e.target.value)}},r.a.createElement("option",{value:"",disabled:!0},"Seleccion\xe1 un pa\xeds"),f&&f.map(function(e){return r.a.createElement("option",{key:"country_"+e.id,value:e.id},e.name)}))),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mt-10"},r.a.createElement(D.a,{id:"state_id",className:"w-full",native:!0,value:J,onChange:function(e){U(e.target.value),y(G({},O,Object(o.a)({},"state_id",e.target.value)))}},r.a.createElement("option",{value:"",disabled:!0},"Seleccion\xe1 una provincia"),u&&u.map(function(e){return r.a.createElement("option",{key:"country_states_"+e.id,value:e.id},e.name)}))),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mt-10"},r.a.createElement(D.a,{id:"state_id",className:"w-full",native:!0,value:R,onChange:function(e){q(e.target.value),y(G({},O,Object(o.a)({},"city_id",e.target.value)))}},r.a.createElement("option",{value:"",disabled:!0},"Seleccion\xe1 una ciudad"),b&&b.map(function(e){return r.a.createElement("option",{key:"state_cities_"+e.id,value:e.id},e.name)}))),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement(W.a,{margin:"dense",id:"address",name:"address",label:"Direcci\xf3n",value:O&&O.address?O.address:"",type:"text",fullWidth:!0,onChange:B})),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0"},r.a.createElement(W.a,{margin:"dense",id:"email",name:"email",label:"Email",value:O&&O.email?O.email:"",type:"text",fullWidth:!0,onChange:B})),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0"},r.a.createElement(W.a,{margin:"dense",id:"phone",name:"phone",label:"Tel\xe9fono",value:O&&O.phone?O.phone:"",type:"text",fullWidth:!0,onChange:B}))),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0"},r.a.createElement(W.a,{margin:"dense",id:"lat",name:"lat",label:"Latitud",value:O&&O.lat?O.lat:"",type:"text",fullWidth:!0,onChange:B})),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0"},r.a.createElement(W.a,{margin:"dense",id:"lon",name:"lon",label:"Longitud",value:O&&O.lon?O.lon:"",type:"text",fullWidth:!0,onChange:B}))),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement(W.a,{margin:"dense",id:"website",name:"website",label:"Sitio Web",value:O&&O.website?O.website:"",type:"text",fullWidth:!0,onChange:B})),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement(W.a,{margin:"dense",id:"embedded_map",name:"embedded_map",label:"Url Mapa Embebido",value:O&&O.embedded_map?O.embedded_map:"",type:"text",fullWidth:!0,onChange:B})),r.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},r.a.createElement(H.a,{control:r.a.createElement(A.a,{onClick:function(e){e.stopPropagation()},name:"enabled",checked:!!O&&!!O.enabled,onChange:B}),label:"Habilitado",className:"w-full"}))))),r.a.createElement(C.a,null,r.a.createElement(_.a,{onClick:Q,color:"primary"},"Cerrar"),r.a.createElement(_.a,{onClick:function(){c(x.K(!0)),c(x.z(O)),i()},color:"primary"},"Crear")))};a.default=Object(c.a)("ProviderApp",O.a)(function(e){var a=Object(n.useRef)(null),t=Object(n.useState)(null),c=Object(l.a)(t,2),o=c[0],s=c[1],d=Object(n.useState)(null),m=Object(l.a)(d,2),u=m[0],b=m[1],p=Object(n.useState)(null),v=Object(l.a)(p,2),x=v[0],E=v[1],h=r.a.useState(null),O=Object(l.a)(h,2),j=O[0],w=O[1],N=e.match.params.provider_id;return j?r.a.createElement(y.a,{to:j}):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.m,{classes:{contentWrapper:"h-full",content:"flex flex-col h-full",header:"min-h-60 h-60",toolbar:"hidden"},header:r.a.createElement("div",{className:"flex flex-1 items-center justify-between p-20"},r.a.createElement("div",{className:"flex flex-col"},r.a.createElement("h4",null,"Direcciones")),r.a.createElement("div",null,r.a.createElement(_.a,{className:"normal-case bg-blue-300 text-white mr-2",variant:"contained",onClick:function(){w("/service-provider/providers")}},r.a.createElement(f.a,{className:"mr-4"},"arrow_left"),"Volver"),r.a.createElement(_.a,{className:"normal-case bg-green text-white",variant:"contained",onClick:function(){return E(!0)}},r.a.createElement(f.a,{className:"mr-4"},"add_circle_outline"),"Nueva"))),content:r.a.createElement(g,{provider_id:N,openDeleteAlertHandler:function(e){s(e)},openDetailModalHandler:function(e){b(e)}}),contentToolbar:r.a.createElement("div",null,function(){if(x)return r.a.createElement(J,{provider_id:N,open:!!x,closeHandler:function(){E(null)}})}(),u?r.a.createElement(M,{provider_id:N,item:u,open:!!u,closeHandler:function(){b(null)}}):null,o?r.a.createElement(P,{item:o,open:!!o,closeHandler:function(){s(null)}}):null),innerScroll:!0,sidebarInner:!0,ref:a}))})}}]);