(window["webpackJsonpfuse-react-app"]=window["webpackJsonpfuse-react-app"]||[]).push([[34],{721:function(e,t,a){"use strict";a.r(t);var r=a(21),n=a(0),l=a.n(n),c=a(31),i=a(198),o=a(4),s=a(98),u=a(550),f=a(488),m=a(533),d=a(567),p=a.n(d),b=a(57),E=a(8),g=a(199),O=a(576);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var y=function(e){var t=e.openDeleteAlertHandler,a=e.openDetailModalHandler,i=e.carrier_state_id,o=Object(E.b)(),d=Object(E.c)(function(e){return e.ShippingApp.city.entities}),h=Object(E.c)(function(e){return e.ShippingApp.city.page}),y=Object(E.c)(function(e){return e.ShippingApp.city.loading}),j=l.a.useState(null),_=Object(r.a)(j,2),x=_[0];return _[1],Object(n.useEffect)(function(){o(O.S(!0)),o(O.I(i,h))},[i]),!d||y?l.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full mt-32"},l.a.createElement(s.a,{color:"textSecondary",variant:"h5"},"Cargando")):x?l.a.createElement(b.a,{to:x}):l.a.createElement(c.a,{animation:"transition.fadeIn",delay:300},l.a.createElement(g.b,{className:"-striped -highlight h-full overflow-hidden pl-2",data:d,pages:h.last_page,pageSizeOptions:[h.per_page],manual:!0,columns:[{Header:"M\xe9todo de env\xedo",accessor:"carrier.name",filterable:!1,sortable:!1,width:200,className:"justify-center"},{Header:"Provincia",accessor:"city_with_state.state.name",filterable:!1,sortable:!1},{Header:"Ciudad",accessor:"city_with_state.name",filterable:!0},{Header:"Precio",accessor:"price",filterable:!1,className:"justify-center",width:100},{id:"free_if_order_above",Header:"Gratis desde",accessor:"",Cell:function(e){return l.a.createElement(s.a,null,e.value.free_if_order_above?e.value.free_if_order_above:"Sin Asignar")},className:"justify-center",filterable:!1,sortable:!1,width:100},{Header:"Habilitado",accessor:"",Cell:function(e){return l.a.createElement(s.a,null,e.value.enabled?"SI":"NO")},className:"justify-center",filterable:!1,sortable:!1,width:80},{id:"edit_column",Header:"",accessor:"",Cell:function(e){return l.a.createElement(u.a,{title:"Editar"},l.a.createElement(f.a,{size:"small","aria-label":"Edit",onClick:function(){a(e.value)}},l.a.createElement(m.a,{color:"action",className:"text-20"},"edit")))},className:"justify-center",filterable:!1,sortable:!1,width:60},{id:"remove_column",Header:"",accessor:"",Cell:function(e){return l.a.createElement(u.a,{title:"Eliminar"},l.a.createElement(f.a,{size:"small","aria-label":"Delete",onClick:function(){t(e.value)}},l.a.createElement(p.a,{fontSize:"small"})))},className:"justify-center",filterable:!1,sortable:!1,width:60}],defaultPageSize:0===d.length?5:d.length,noDataText:"No hay items para mostrar",loading:y,onFetchData:function(e,t){var a=e.page+1,r=v({},h);r.current_page=a,o(O.I(i,r))},onFilteredChange:function(e){var t=v({},h);t.filters=e,o(O.B(t))},onSortedChange:function(e){var t=v({},h);t.sort=e[0],o(O.B(t))}}))},j=a(595),_=a(552),x=a(579),w=a(580),S=a(583),C=a(581),N=a(555);var k=function(e){var t=e.item,a=e.open,r=e.closeHandler,n=Object(E.b)();function c(){r()}return t?l.a.createElement(_.a,{open:a,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(x.a,{id:"alert-dialog-title"},"Eliminar item"),l.a.createElement(w.a,null,l.a.createElement(S.a,{id:"alert-dialog-description"},"Esta seguro de eliminar este item? La acci\xf3n no se puede deshacer y eliminar\xe1 todo el contenido asociado.")),l.a.createElement(C.a,null,l.a.createElement(N.a,{onClick:c,color:"primary"},"Cancelar"),l.a.createElement(N.a,{onClick:function(){n(O.Z(t.id)),r()},color:"primary",autoFocus:!0},"Si, Eliminar"))):(r(),l.a.createElement("div",null))},P=a(32),H=a(499),D=a(504),A=a(544),W=a(562),I=a(3),z=a(538);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var G=function(e){var t=e.carrier_state_id,a=e.item,c=e.open,i=e.closeHandler,u=Object(E.b)(),f=Object(E.c)(function(e){return e.ShippingApp.state.stateInfo}),m=Object(E.c)(function(e){return e.ShippingApp.city.cityInfo}),d=Object(E.c)(function(e){return e.ShippingApp.city.cityInfoLoading}),p=Object(E.c)(function(e){return e.ShippingApp.city.state_cities}),b=Object(P.a)(),g=Object(z.a)(b.breakpoints.down("sm")),h=l.a.useState(null),v=Object(r.a)(h,2),y=v[0],j=v[1],S=l.a.useState(""),k=Object(r.a)(S,2),M=k[0],G=k[1];Object(n.useEffect)(function(){t&&u(O.N(t))},[t]),Object(n.useEffect)(function(){f&&u(O.M(f.state_id))},[f]),Object(n.useEffect)(function(){a&&u(O.J(a.id))},[a]),Object(n.useEffect)(function(){m&&(j(m),G(m.city.id))},[m]);var J=function(e){var t=e.target,a=t.name,r=t.value;"checkbox"!==e.target.type&&"radio"!==e.target.type||(r=1===y[a]?0:1),j(F({},y,Object(o.a)({},a,r)))};function L(){i()}return m&&f&&!d&&y?l.a.createElement(_.a,{open:c,onClose:L,"aria-labelledby":"form-dialog-title",fullWidth:!0,fullScreen:g,maxWidth:"sm"},l.a.createElement(x.a,{id:"form-dialog-title"},"Editar una ciudad de ",f.carrier.name," (",f.state.name,")"),l.a.createElement(w.a,{className:"flex-col"},l.a.createElement("div",{className:Object(I.a)("flex","w-full")},l.a.createElement("div",{className:"flex-col w-full"},l.a.createElement(H.a,{id:"city_id",className:"w-full",native:!0,value:M,onChange:function(e){G(e.target.value),j(F({},y,Object(o.a)({},"city_id",e.target.value)))}},l.a.createElement("option",{value:"",disabled:!0},"Seleccion\xe1 una ciudad"),p&&p.map(function(e){return l.a.createElement("option",{key:"state_cities_"+e.id,value:e.id},e.name)})),l.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mt-5 mb-3"},l.a.createElement(D.a,{margin:"dense",id:"price",name:"price",label:"Precio",value:y&&y.price?y.price:"",type:"text",fullWidth:!0,onChange:J})),l.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0  mb-3"},l.a.createElement(D.a,{margin:"dense",id:"free_if_order_above",name:"free_if_order_above",label:"Gratis si la orden supera",value:y&&y.free_if_order_above?y.free_if_order_above:"",type:"text",fullWidth:!0,onChange:J})),l.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},l.a.createElement(A.a,{control:l.a.createElement(W.a,{onClick:function(e){e.stopPropagation()},name:"enabled",checked:!!y&&!!y.enabled,onChange:J}),label:"Habilitado",className:"w-full"}))))),l.a.createElement(C.a,null,l.a.createElement(N.a,{onClick:L,color:"primary"},"Cerrar"),l.a.createElement(N.a,{onClick:function(){u(O.U(!0)),u(O.bb(y)),i()},color:"primary"},"Actualizar"))):l.a.createElement(_.a,{open:c,onClose:L,"aria-labelledby":"form-dialog-title",fullWidth:!0},l.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full mt-32 mb-32"},l.a.createElement(s.a,{color:"textSecondary",variant:"h5"},"Cargando")))};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach(function(t){Object(o.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var T=function(e){var t=e.carrier_state_id,a=e.open,c=e.closeHandler,i=Object(E.b)(),u=Object(E.c)(function(e){return e.ShippingApp.state.stateInfo}),f=Object(E.c)(function(e){return e.ShippingApp.city.cityCreateLoading}),m=(Object(E.c)(function(e){return e.ShippingApp.city.states}),Object(E.c)(function(e){return e.ShippingApp.city.state_cities})),d=Object(P.a)(),p=Object(z.a)(d.breakpoints.down("sm")),b=l.a.useState({carrier_state_id:t}),g=Object(r.a)(b,2),h=g[0],v=g[1],y=l.a.useState(""),j=Object(r.a)(y,2),S=j[0],k=j[1];Object(n.useEffect)(function(){t&&i(O.N(t))},[t]),Object(n.useEffect)(function(){u&&i(O.M(u.state_id))},[u]);var M=function(e){var t=e.target,a=t.name,r=t.value;"checkbox"!==e.target.type&&"radio"!==e.target.type||(r=h&&1===h[a]?0:1),v(L({},h,Object(o.a)({},a,r)))};function F(){c()}return!u||f?l.a.createElement(_.a,{open:a,onClose:F,"aria-labelledby":"form-dialog-title",fullWidth:!0},l.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full mt-32 mb-32"},l.a.createElement(s.a,{color:"textSecondary",variant:"h5"},"Cargando"))):l.a.createElement(_.a,{open:a,onClose:F,"aria-labelledby":"form-dialog-title",fullWidth:!0,fullScreen:p,maxWidth:"sm"},l.a.createElement(x.a,{id:"form-dialog-title"},"Agreg\xe1 una ciudad a ",u.carrier.name," (",u.state.name,")"),l.a.createElement(w.a,{className:"flex-col"},l.a.createElement("div",{className:Object(I.a)("flex","w-full")},l.a.createElement("div",{className:"flex-col w-full"},l.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0"},l.a.createElement(H.a,{id:"city_id",className:"w-full",native:!0,value:S,onChange:function(e){k(e.target.value),v(L({},h,Object(o.a)({},"city_id",e.target.value)))}},l.a.createElement("option",{value:"",disabled:!0},"Seleccion\xe1 una ciudad"),m&&m.map(function(e){return l.a.createElement("option",{key:"state_cities_"+e.id,value:e.id},e.name)}))),l.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mt-5 mb-3"},l.a.createElement(D.a,{margin:"dense",id:"price",name:"price",label:"Precio",value:h&&h.price?h.price:"",type:"text",fullWidth:!0,onChange:M})),l.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},l.a.createElement(D.a,{margin:"dense",id:"free_if_order_above",name:"free_if_order_above",label:"Gratis si la orden supera",value:h&&h.free_if_order_above?h.free_if_order_above:"",type:"text",fullWidth:!0,onChange:M})),l.a.createElement("div",{className:"flex flex-row flex-1 flex-shrink-0 mb-3"},l.a.createElement(A.a,{control:l.a.createElement(W.a,{onClick:function(e){e.stopPropagation()},name:"enabled",checked:!!h&&!!h.enabled,onChange:M}),label:"Habilitado",className:"w-full"}))))),l.a.createElement(C.a,null,l.a.createElement(N.a,{onClick:F,color:"primary"},"Cerrar"),l.a.createElement(N.a,{onClick:function(){i(O.T(!0)),i(O.E(h)),c()},color:"primary"},"Crear")))};t.default=Object(i.a)("ShippingApp",j.a)(function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(null),i=Object(r.a)(a,2),o=i[0],s=i[1],u=Object(n.useState)(null),f=Object(r.a)(u,2),d=f[0],p=f[1],E=Object(n.useState)(null),g=Object(r.a)(E,2),O=g[0],h=g[1],v=l.a.useState(null),j=Object(r.a)(v,2),_=j[0],x=j[1],w=e.match.params.carrier_id,S=e.match.params.carrier_state_id;return _?l.a.createElement(b.a,{to:_}):l.a.createElement(l.a.Fragment,null,l.a.createElement(c.m,{classes:{contentWrapper:"h-full",content:"flex flex-col h-full",header:"min-h-60 h-60",toolbar:"hidden"},header:l.a.createElement("div",{className:"flex flex-1 items-center justify-between p-20"},l.a.createElement("div",{className:"flex flex-col"},l.a.createElement("h4",null,"Ciudades")),l.a.createElement("div",null,l.a.createElement(N.a,{className:"normal-case bg-blue-300 text-white mr-2",variant:"contained",onClick:function(){x("/shipping/states/"+w)}},l.a.createElement(m.a,{className:"mr-4"},"arrow_left"),"Volver"),l.a.createElement(N.a,{className:"normal-case bg-green text-white",variant:"contained",onClick:function(){return h(!0)}},l.a.createElement(m.a,{className:"mr-4"},"add_circle_outline"),"Nueva"))),content:l.a.createElement(y,{carrier_state_id:S,openDeleteAlertHandler:function(e){s(e)},openDetailModalHandler:function(e){p(e)}}),contentToolbar:l.a.createElement("div",null,function(){if(O)return l.a.createElement(T,{carrier_id:w,carrier_state_id:S,open:!!O,closeHandler:function(){h(null)}})}(),d?l.a.createElement(G,{carrier_id:w,carrier_state_id:S,item:d,open:!!d,closeHandler:function(){p(null)}}):null,o?l.a.createElement(k,{item:o,open:!!o,closeHandler:function(){s(null)}}):null),innerScroll:!0,sidebarInner:!0,ref:t}))})}}]);